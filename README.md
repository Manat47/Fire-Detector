Fire & Gas Detection System using ESP32 with LINE Notify

ระบบตรวจจับอัคคีภัยและแก๊สรั่ว พร้อมแจ้งเตือนอัตโนมัติและสั่งการตัดไฟ-เปิดสปริงเกอร์ด้วย ESP32 และ LINE Notify

## รายการอุปกรณ์ที่ใช้ ##
- ESP32 Dev Board  
- เซ็นเซอร์วัดอุณหภูมิและความชื้น: DHT22  
- เซ็นเซอร์ตรวจจับแก๊ส (Analog เช่น MQ-2 / MQ-135)  
- รีเลย์ 1 ช่อง (ควบคุมสปริงเกอร์)  
- ไฟ LED (แสดงสถานะไฟฟ้า)  
- LINE Notify Token  
- WiFi

## การทำงานของระบบ ##
1. เชื่อมต่อ WiFi และ LINE Notify
2. อ่านค่าอุณหภูมิและแก๊สจากเซ็นเซอร์
3. หากพบอุณหภูมิ ≥ 60°C หรือระดับแก๊ส ≥ 500 ppm:
   - ส่งแจ้งเตือนผ่าน LINE
   - เปิดไฟ LED แสดงสถานะอันตราย
   - เริ่มจับเวลาเพื่อรอดูสถานการณ์
4. หากสถานการณ์ยังไม่ดีขึ้นใน 30 วินาที:
   - แจ้งเตือนเพิ่มเติมผ่าน LINE ว่า "เตรียมตัดไฟ"
5. หากยังไม่ดีขึ้นภายใน 60 วินาที:
   - ตัดไฟ (ปิด LED)
   - แจ้งผ่าน LINE ว่า "ตัดไฟเรียบร้อยแล้ว"
6. หากยังคงอันตรายหลังจากตัดไฟไป 60 วินาที:
   - เปิดสปริงเกอร์ (รีเลย์ทำงานสลับ 10 รอบ)
   - แจ้งเตือนขั้นสุดท้ายผ่าน LINE

## ตัวอย่างข้อความแจ้งเตือน LINE ##
- "แจ้งเตือน: อุณหภูมิสูงถึงระดับอันตราย = 65.3 °C"
- "แจ้งเตือน: ระดับแก๊สถึงระดับอันตราย = 650 ppm"
- "กำลังติดตามสถานการณ์ หากยังไม่ดีขึ้นจะทำการตัดไฟ"
- "ทำการตัดไฟเรียบร้อยแล้ว"
- "กำลังเปิดสปริงเกอร์ฉีดน้ำ..."

## ตัวแปรสำคัญในโปรแกรม ##
| ตัวแปร | ค่าเริ่มต้น | คำอธิบาย |
|--------|--------------|-----------|
| `TEMP_THRESHOLD` | 60 | เกณฑ์อุณหภูมิอันตราย (°C) |
| `GAS_THRESHOLD` | 500 | เกณฑ์ระดับแก๊สอันตราย (ppm) |
| `LED_PIN` | 2 | ขา GPIO ของไฟ LED |
| `RELAY_PIN` | 17 | ขา GPIO ของรีเลย์ควบคุมสปริงเกอร์ |
| `LINE_TOKEN` | - | Token จาก LINE Notify |
| `AQ_GAS` | 36 | ขา Analog ของเซ็นเซอร์แก๊ส |
| `DHTPIN` | 4 | ขา GPIO ของ DHT22 |
